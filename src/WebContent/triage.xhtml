<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html">

<h:head>
    <link href="./css/bootstrap.css" rel="stylesheet"/>
    <title>Easy EMR</title>
    <link href="./css/bootstrap.css" rel="stylesheet"/>
    <link rel="stylesheet" href="./css/jquery-ui-1.10.2.custom.css"/>
    <script src="./js/jquery-1.9.1.js" type="text/javascript"></script>
    <script src="./js/jquery-ui-1.10.2.custom.js" type="text/javascript"></script>
    <link rel="stylesheet" href="/resources/demos/style.css"/>


    <script type="text/javascript">
        $(function () {
            $("#main\\:datepicker").datepicker();
        });
    </script>
    <script type="text/javascript">
        jQuery(function ($) {
            $("#main\\:datepicker").mask("99/99/9999");
            $("#main\\:hin").mask("99.9");


        });
    </script>


    <script type="text/javascript">
        $(function () {
            $(document).tooltip();
        });
    </script>
    <style type="text/css">
        label {
            display: inline-block;
            width: 5em;
        }
    </style>
    <script type="text/javascript">
        $(function () {
            $("#tabs").tabs();
        });
    </script>


    <title>Easy EMR</title>
</h:head>

<body>
<h:form id="main">
    <div class="container well">
        <!--Table showing results from previous patients-->
       <!-- <div class="hide">-->

            <center>
            <p:dataTable var="car" value="#{encounterService.searchList}" rendered="false" >
                <!--<p:column selectionMode="single" style="width:2%" />-->
                <p:column headerText="Patient First Name" style="width:25%">
                    <h:outputText value="#{encounterService.patient.firstName}" />
                </p:column>


                <p:column headerText="Patient Last Name" style="width:25%">
                    <h:outputText value="#{encounterService.patient.lastName}" />
                </p:column>


                <p:column headerText="Patient Age" style="width:25%">
                    <h:outputText value="#{encounterService.patient.age}" />
                </p:column>

                <p:column headerText="action" style="width: 25%">
                    <h:outputText style="color:red" value="select"/>
                </p:column>
                <!--<f:facet name="footer">
                <p:commandButton id="viewButton" value="View" icon="ui-icon-search"
                                 update=":form:displaySingle" oncomplete="PF('singleCarDialog').show()"/>
                </f:facet>-->
            </p:dataTable>
            </center>

        <!--</div>-->
        <div class="row">
                <div class="form span6">
                    <h3>General Information<span class="label label-default"></span></h3>
                    <table>
                        <tr>
                            <td><h5 style="color:#149bdf">Card ID </h5></td>
                            <td><p:inputText id="visitID" style="width:50px"
                                             value="#{encounterService.encounter.cardID}"
                                             title="Please type in the cardID"></p:inputText></td>
                            <h:message for="visitID" style="color:red"> </h:message>
                        </tr>
                        <tr>
                            <td><strong style="color:#149bdf">* First Name</strong></td>
                            <td>





                                <p:inputText id="firstname" value="#{encounterService.patient.firstName}">
                                    <p:ajax event="keyup" update="out"
                                            listener="#{encounterService.searchPatientsF}"/>
                                </p:inputText>

                                <h:outputText id="out" value="#{encounterService.patient.firstName}" />


                                <!--<p:inputText id="patientFirstName" style="width:130px"-->
                                             <!--value="#{encounterService.patient.firstName }"-->
                                             <!--title="Please type the patients First Name" required="true"></p:inputText>-->
                            </td>
                            <h:message for="firstname" style="color:red"> </h:message>
                        </tr>
                        <tr>
                            <td><strong style="color:#149bdf">* Last Name</strong></td>
                            <td><p:inputText id="patientLastName" style="width:130px"
                                             value="#{encounterService.patient.lastName }"
                                             title="Please type the patients Last Name" required="false"></p:inputText>
                            </td>
                            <h:message for="patientLastName" style="color:red"> </h:message>
                        </tr>
                        <tr>
                            <td><strong>Location</strong></td>
                            <td><h:selectOneMenu id="location" value="#{encounterService.patient.residence }">
                                <f:selectItem itemValue="Select" itemLabel="- Select -"/>
                                <f:selectItem itemValue="Port-au-Prince" itemLabel="Port-au-Prince"/>
                                <f:selectItem itemValue="Borel" itemLabel="Borel"/>
                                <f:selectItem itemValue="Morne de l' Hopital" itemLabel="Morne de l' Hopital"/>
                                <f:selectItem itemValue="Opac" itemLabel="Opac"/>
                                <f:selectItem itemValue="Jacmel" itemLabel="Jacmel"/>
                                <f:selectItem itemValue="Leogane" itemLabel="Leogane"/>
                                <f:selectItem itemValue="Miragoane" itemLabel="Miragoane"/>

                            </h:selectOneMenu></td>
                        </tr>


                        <tr>
                            <td><strong>Birth Date</strong></td>
                            <td><p:inputText id="datepicker"
                                             value="#{encounterService.patient.birthDate }"></p:inputText><em> (MM/DD/YYYY)</em>
                            </td>

                        </tr>
                        <tr>
                            <td><strong>Age</strong></td>
                            <td><p:inputText id="age"
                                    value="#{encounterService.patient.age}"></p:inputText></td>
                        </tr>
                        <tr>
                            <td><strong>Gender</strong></td>
                            <td><h:selectOneMenu id="gender" value="#{encounterService.patient.gender }">
                                <f:selectItem itemValue="Select" itemLabel="- Select -"/>
                                <f:selectItem itemValue="Male" itemLabel="Male"/>
                                <f:selectItem itemValue="Female" itemLabel="Female"/>
                            </h:selectOneMenu></td>
                        </tr>

                        <tr>
                            <td><strong>Height</strong></td>
                            <td><p:inputText id="hin" value="#{encounterService.vitals.height }"></p:inputText> in</td>
                        </tr>

                        <tr>
                            <td><strong>Weight</strong></td>
                            <td><p:inputText id="wlbs" value="#{encounterService.vitals.weight }"></p:inputText> lbs
                            </td>
                        </tr>

                    </table>
                </div>


                <div class="form span6">
                    <table>
                    <tr>
                        <h3>Vitals<span class="label label-default"></span></h3>
                    </tr>
                    <table>
                        <tr>

                            <td><strong>Blood Pressure (mmHg)</strong></td>
                            <td><p:inputText style="width:60px" id="bpTop"
                                             value="#{encounterService.vitals.systolicBP}"></p:inputText> /
                                <p:inputText style="width:60px" id="bpBottom"
                                             value="#{encounterService.vitals.diastolicBP}"></p:inputText>
                                </td>
                        </tr>

                        <tr>
                            <td><strong>Blood Saturation %</strong></td>
                            <td><p:inputText style="width:60px" id="bsat" value="#{encounterService.vitals.bloodSaturation}"></p:inputText></td>
                        </tr>

                        <tr>
                            <td><strong>Heart Rate (bpm)</strong></td>
                            <td><p:inputText style="width:60px" id="heartrate"
                                             value="#{encounterService.vitals.heartRate }"></p:inputText></td>
                        </tr>
                        <tr>
                            <td><strong>Temperature (F)</strong></td>
                            <td><p:inputText style="width:60px" id="temperature"
                                             value="#{encounterService.vitals.temperatureF }"></p:inputText></td>
                        </tr>

                        <tr>
                            <td><strong>Respiration (Breadths Per Minute)</strong></td>
                            <td><p:inputText style="width:60px" id="respiration"
                                             value="#{encounterService.vitals.respRate }"></p:inputText>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Chief Complaint</strong></td>
                            <br/>
                            <td><p:inputTextarea style="width:300px"
                                                 title="Please type the patients chief complaint/-s."
                                                 id="primaryComplaint"
                                                 value="#{encounterService.encounter.chiefComplaint }"/>
                            </td>
                        </tr>
                        <br/>

                        <tr><td><p:commandButton styleClass="ui-icon-search" id="submit" value="Save/ Update Patient" onclick="alert('Patient Record Submitted');"
                                action="#{encounterService.saveOrUpdateEncounter}"
                                ></p:commandButton></td>

                            <td><p:commandButton id="newPatient" styleClass="ui-icon-search" value="Reset Form"
                                                 action="#{encounterService.resetRecord }" immediate="true"></p:commandButton></td></tr>

                    </table>
                    </table>
                </div>

            </div>

            <!-- row div-->
    </div>



</h:form>
<!-- Begin Navigation bar, use position to place on north south east west of the page -->
<div class="navbar navbar-fixed-bottom center">
    <div style="float: left">
        <p><img src="./img/easyEmr_LOGO.png" height="80" width="110" alt="EasyEmr Logo"/>
            <h5 style="float:left">Hello, <h:outputLabel style="color:#149bdf" value="#{loginBean.systemUser.firstName }"/></h5></p>
    </div>
    <div class="navbar-inner">
        <div class="center">
            <h:form>
                <p:commandButton action="#{pageController.moveToPageTriage}" value="Triage"  style="color:blue"/>
                <p:commandButton action="#{pageController.moveToPageMedical}" value="Medical"/>
                <p:commandButton action="#{pageController.moveToPagePharmacy}" value="Pharmacy"/>
            </h:form>
        </div>
        <div class="container-fluid">
            <h:form>
                <h:commandLink tabindex="-1" action="#{loginBean.logout}"><h5 style="color:red">Log Out</h5>
                </h:commandLink>
                <h:commandLink tabindex="-2" action="#{userService.switchToUpdateInfo}"><h5
                        style="color:gray">Change My Password</h5></h:commandLink>
            </h:form>
        </div>
    </div>
</div>

</body>
</html>