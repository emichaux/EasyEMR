<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html">

<head>
    <link href="./css/bootstrap.css" rel="stylesheet"/>
    <link rel="stylesheet" href="./css/jquery-ui-1.10.2.custom.css"/>
    <script src="./js/jquery-1.9.1.js" type="text/javascript"></script>
    <script src="./js/jquery-ui-1.10.2.custom.js" type="text/javascript"></script>

    <script src="./js/jquery.maskedinput.js" type="text/javascript"></script>

    <script type="text/javascript">
        $(function () {
            $("#main\\:datepicker").datepicker();
        });
    </script>

    <script type="text/javascript">
        $(function () {
            $(document).tooltip();
        });
    </script>
    <style type="text/css">
        label {
            display: inline-block;
            width: 5em;
        }
    </style>

    <script type="text/javascript">
        jQuery(function ($) {
            $("#main\\:datepicker").mask("99/99/9999");
            $("#main\\:hin").mask("99.9");


        });
    </script>


    <title>Easy EMR</title>
</head>

<body>

<div class="center"><h3>Medical<span class="label label-default"></span></h3></div>

<h:form id="main">

<div class="container well">

<div class="row">
    <div class="form span6">
        <h3>General Information<span class="label label-default"></span></h3>
        <table>
            <tr>
                <td><h5 style="color:#149bdf">Card ID </h5></td>
                <td><h:inputText id="visitID" style="width:50px"
                                 value="#{encounterService.encounter.cardID}"
                                 title="Please type in the cardID"></h:inputText></td>
                <h:message for="visitID" style="color:red"> </h:message>
            </tr>
            <tr>
                <td><strong style="color:#149bdf">* First Name</strong></td>
                <td><h:inputText id="patientFirstName" style="width:130px"
                                 value="#{encounterService.patient.firstName }"
                                 title="Please type the patients First Name" required="true"></h:inputText>
                </td>
                <h:message for="patientFirstName" style="color:red"> </h:message>
            </tr>
            <tr>
                <td><strong style="color:#149bdf">* Last Name</strong></td>
                <td><h:inputText id="patientLastName" style="width:130px"
                                 value="#{encounterService.patient.lastName }"
                                 title="Please type the patients Last Name" required="true"></h:inputText>
                </td>
                <h:message for="patientLastName" style="color:red"> </h:message>
            </tr>
            <tr>
                <td><strong>Location</strong></td>
                <td><h:selectOneMenu id="location" value="#{encounterService.patient.residence }">
                    <f:selectItem itemValue="Select" itemLabel="- Select -"/>
                    <f:selectItem itemValue="Port-au-Prince" itemLabel="Port-au-Prince"/>
                    <f:selectItem itemValue="Borel" itemLabel="Borel"/>
                    <f:selectItem itemValue="Morne de l' Hopital" itemLabel="Morne de l' Hopital"/>
                    <f:selectItem itemValue="Opac" itemLabel="Opac"/>
                    <f:selectItem itemValue="Jacmel" itemLabel="Jacmel"/>
                    <f:selectItem itemValue="Leogane" itemLabel="Leogane"/>
                    <f:selectItem itemValue="Miragoane" itemLabel="Miragoane"/>

                </h:selectOneMenu></td>
            </tr>


            <tr>
                <td><strong>Birth Date</strong></td>
                <td><h:inputText id="datepicker"
                                 value="#{encounterService.patient.birthDate }"></h:inputText><em>(MM/DD/YYYY)</em>
                </td>

            </tr>
            <tr>
                <td><strong>Gender</strong></td>
                <td><h:selectOneMenu id="gender" value="#{encounterService.patient.gender }">
                    <f:selectItem itemValue="Select" itemLabel="- Select -"/>
                    <f:selectItem itemValue="Male" itemLabel="Male"/>
                    <f:selectItem itemValue="Female" itemLabel="Female"/>
                </h:selectOneMenu></td>
            </tr>

            <tr>
                <td><strong>Height</strong></td>
                <td><h:inputText id="hin" value="#{encounterService.vitals.height }"></h:inputText> in</td>
            </tr>

            <tr>
                <td><strong>Weight</strong></td>
                <td><h:inputText id="wlbs" value="#{encounterService.vitals.weight }"></h:inputText> lbs
                </td>
            </tr>

        </table>
    </div>


    <div class="form span6">
        <table>
            <tr>
                <h3>Vitals<span class="label label-default"></span></h3>
            </tr>
            <table>
                <tr>

                    <td><strong>Blood Pressure (mmHg)</strong></td>
                    <td><h:inputText style="width:60px" id="bpTop"
                                     value="#{encounterService.vitals.systolicBP}"></h:inputText> /
                        <h:inputText style="width:60px" id="bpBottom"
                                     value="#{encounterService.vitals.diastolicBP}"></h:inputText>
                        <br/></td>
                </tr>

                <tr>
                    <td><strong>Heart Rate (bpm)</strong></td>
                    <td><h:inputText style="width:60px" id="heartrate"
                                     value="#{encounterService.vitals.heartRate }"><br/></h:inputText></td>
                </tr>
                <tr>
                    <td><strong>Temperature (F)</strong></td>
                    <td><h:inputText style="width:60px" id="temperature"
                                     value="#{encounterService.vitals.temperatureF }"><br/></h:inputText></td>
                </tr>

                <tr>
                    <td><strong>Respiration (Breadths Per Minute)</strong></td>
                    <td><h:inputText style="width:60px" id="respiration"
                                     value="#{encounterService.vitals.respRate }"><br/></h:inputText>
                    </td>
                </tr>

            </table>
        </table>


    </div>
</div>
<div class="row">
    <div class="form span6">
        <table>

            <tr>
                <h3>Chief Complaint<span class="label label-default"></span></h3>
                <br/>
                <td><p:inputTextarea style="width:300px"
                                     title="Please type the patients chief complaint/-s."
                                     id="primaryComplaint"
                                     value="#{encounterService.encounter.chiefComplaint }"/>
                </td>
            </tr>

        </table>
        <table>

            <tr>
                <td><strong>Onset</strong></td>
                <td><p:inputText style="width:50px"
                                 title="Please input length of time and choose days,weeks,months,years."
                                 value="#{encounterService.encounter.onsetNumber }"></p:inputText>
                    <h:selectOneMenu style="width:70px" value="#{encounterService.encounter.onsetUnit }">
                        <f:selectItem itemValue="days" itemLabel="days"/>
                        <f:selectItem itemValue="weeks" itemLabel="weeks"/>
                        <f:selectItem itemValue="months" itemLabel="months"/>
                        <f:selectItem itemValue="years" itemLabel="years"/>
                    </h:selectOneMenu> ago
                </td>
            </tr>
            <tr>
                <td><strong>Severity</strong></td>
                <td><h:selectOneMenu style="width:50px" value="#{encounterService.encounter.severity }">
                    <f:selectItem itemValue="0" itemLabel=" - "/>
                    <f:selectItem itemValue="1" itemLabel="1"/>
                    <f:selectItem itemValue="2" itemLabel="2"/>
                    <f:selectItem itemValue="3" itemLabel="3"/>
                    <f:selectItem itemValue="4" itemLabel="4"/>
                    <f:selectItem itemValue="5" itemLabel="5"/>
                    <f:selectItem itemValue="6" itemLabel="6"/>
                    <f:selectItem itemValue="7" itemLabel="7"/>
                    <f:selectItem itemValue="8" itemLabel="8"/>
                    <f:selectItem itemValue="9" itemLabel="9"/>
                    <f:selectItem itemValue="10" itemLabel="10"/>
                    <f:selectItem itemValue="-1" itemLabel="NA"/>

                </h:selectOneMenu></td>
            </tr>

            <tr>
                <td><strong>Radiation</strong></td>
                <td><p:inputText value="#{encounterService.encounter.radiation }"/></td>
            </tr>

            <tr>
                <td><strong>Quality</strong></td>
                <td><p:inputText value="#{encounterService.encounter.quality }"/></td>
            </tr>

            <tr>
                <td><strong>Provokes / Palliates</strong></td>
                <td><p:inputText value="#{encounterService.encounter.provokes }"/></td>
            </tr>

            <tr>
                <td><strong>Time of Day</strong></td>
                <td><p:inputText value="#{encounterService.encounter.timeOfDay }"/></td>
            </tr>

            <tr>
                <td><strong>Other</strong></td>
                <td><p:inputText value="#{encounterService.encounter.other }"/></td>
            </tr>
            <tr>
                <td><strong>ROS</strong></td>
                <td><p:inputTextarea value="#{encounterService.encounter.other }"/></td>
            </tr>
            <tr>
                <td><p:commandButton styleClass="ui-icon-search" id="submit" value="Save &amp; Start New Patient"
                                     onclick="alert('Patient Record Submitted');"
                                     action="#{encounterService.updateEncounter}"
                                     rendered="#{not encounterService.newEncounter}"></p:commandButton>
                </td>

                <td><p:commandButton id="newPatient" styleClass="ui-icon-search" value="Reset Form"
                                     action="#{encounterService.resetRecord }" immediate="true"></p:commandButton>

                </td>
                <td><p:commandButton id="startNew" styleClass="ui-icon-search" value="Start New Encounter"
                                     action="#{encounterService.startEncounter}"
                                     rendered="#{encounterService.newEncounter}"></p:commandButton>
                </td>
            </tr>
        </table>
    </div>

    <div class="form span6">

        <h3>Complaints / Treatment<span class="label label-default"></span></h3>
        <table>
            <tr>
                <strong style="text-align:center">Physical Examination</strong><br/>
                <p:inputTextarea style="width:300px" id="physicalExamination"
                                 value="#{encounterService.encounter.overallImpression }"/><br/>
            </tr>
            <tr>
                <strong style="text-align:center">Assessment</strong><br/>
                <p:inputTextarea style="width:300px" id="assessment"
                                 value="#{encounterService.encounter.assessment }"/><br/>
            </tr>
            <tr>
                <td><strong>Problem List</strong></td>
                <td><strong>Prescription / Treatment</strong></td>
            </tr>

            <tr>
                <td><p:inputText style="width:150px"
                                 value="#{encounterService.encounter.condition1 }"></p:inputText>
                </td>
                <td><p:inputText style="width:150px"
                                 value="#{encounterService.encounter.medicationPrescribed1 }"></p:inputText>
                </td>
            </tr>

            <tr>
                <td><p:inputText style="width:150px"
                                 value="#{encounterService.encounter.condition2 }"></p:inputText>
                </td>
                <td><p:inputText style="width:150px"
                                 value="#{encounterService.encounter.medicationPrescribed2 }"></p:inputText>
                </td>
            </tr>

            <tr>
                <td><p:inputText style="width:150px"
                                 value="#{encounterService.encounter.condition3 }"></p:inputText>
                </td>
                <td><p:inputText style="width:150px"
                                 value="#{encounterService.encounter.medicationPrescribed3 }"></p:inputText>
                </td>
            </tr>

            <tr>
                <td><p:inputText style="width:150px"
                                 value="#{encounterService.encounter.condition4 }"></p:inputText>
                </td>
                <td><p:inputText style="width:150px"
                                 value="#{encounterService.encounter.medicationPrescribed4 }"></p:inputText>
                </td>
            </tr>

            <tr>
                <td><p:inputText style="width:150px"
                                 value="#{encounterService.encounter.condition5 }"></p:inputText>
                </td>
                <td><p:inputText style="width:150px"
                                 value="#{encounterService.encounter.medicationPrescribed5 }"></p:inputText>
                </td>
            </tr>
            <strong style="text-align:center">Treatment Given</strong><br/>
            <p:inputTextarea style="width:300px" id="treatmentGiven"
                             value="#{encounterService.encounter.medicalProcedures }"/><br/>
            <strong>Family/Social History</strong><br/>
            <p:inputTextarea style="width:300px" id="socialHistory"
                             value="#{encounterService.patient.socialHistory }"/>
        </table>
    </div>
</div>
</div>

<div class="center">

    <p:commandButton action="#{pageController.moveToPageTriage}"
                     value="Triage"></p:commandButton>
    <p:commandButton action="#{pageController.moveToPagePharmacy}"
                     value="Pharmacy"></p:commandButton>
</div>

</h:form>

<div class="navbar navbar-fixed-bottom center">
    <div style="float: left">
        <p><img src="./img/easyEmr_LOGO.png" height="80" width="110" alt="EasyEmr Logo"/></p>
    </div>
    <div class="navbar-inner">

        <h5 style="float:left">Hello, <h:outputLabel style="color:red" value="#{loginBean.systemUser.firstName }"/></h5>


        <div class="container-fluid">
            <h:form>
                <h:commandLink tabindex="-1" action="#{loginBean.logout}"><h5 style="color:red">Log Out</h5>
                </h:commandLink>
                <h:commandLink tabindex="-2" action="#{userService.switchToUpdateInfo}"><h5
                        style="color:gray">Change My Password</h5></h:commandLink>
            </h:form>

        </div>
    </div>
</div>
</body>
</html>







